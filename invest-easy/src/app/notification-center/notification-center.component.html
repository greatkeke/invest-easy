<p-dialog 
  [(visible)]="visible" 
  [style]="{ 
    'width': '25vw', 
    'height': '100vh',
    'max-height': '100vh',
    'margin': '0',
    'right': '0',
    'top': '0'
  }"
  [breakpoints]="{ '768px': '100vw' }"
  [modal]="true"
  [dismissableMask]="true"
  position="right"
  styleClass="rounded-none!"
>
  <ng-template pTemplate="header">
    <div class="text-xl font-bold p-4">Notifications</div>
  </ng-template>

  <div class="overflow-y-auto h-full">
    <div *ngFor="let notification of notifications" 
         class="p-4 border-b cursor-pointer hover:bg-gray-100"
         (click)="markAsRead(notification)">
      <div class="flex items-start">
        <div *ngIf="!notification.read" class="w-2 h-2 bg-blue-500 rounded-full mt-2 mr-2"></div>
        <div class="w-full">
          <div class="font-semibold">{{ notification.title }}</div>
          <div class="text-gray-600 max-h-12 overflow-hidden transition-all duration-300 ease-in-out" 
               [class.max-h-full]="notification.expanded"
               [innerHTML]="notification.content">
          </div>
          <div class="text-xs text-gray-400 mt-1">{{ notification.date | date:'short' }}</div>
          <div class="text-xs text-blue-500 mt-1 cursor-pointer" 
               (click)="toggleExpand(notification);">
            {{ notification.expanded ? 'Show less' : 'Show more' }}
          </div>
        </div>
      </div>
    </div>
  </div>
</p-dialog>
